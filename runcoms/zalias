# -*- mode: sh; -*-
#
# zsh MOFO alias

# bas habit alias

alias md='mkdir'

alias grep='grep --color=auto -HIn' # color, line, no binary
alias ls='ls --color=auto'

alias ll='ls -l'
alias la='ll -a'
alias l='la'
alias lt='l -t'
alias l.='ls -d .*'

alias pong='ping google.com'

#alias python="python3"

# sudo support alias
alias sudo='sudo '

# rehl
# alias which='alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'

# clean emacs file
alias cl='find . \( -name "#*#" -o -name "*~" -o -name ".#*" \) -print -delete ; echo mr_clean : all temporary file deleted'

# sort file by size
alias ducks='du -cksh * | sort -rh | head -10'

function zsh_stat() {
    fc -l 1 | awk '{CMD[$2]++;count++;}END { for (a in CMD)print CMD[a] " " CMD[a]/count*100 "% " a;}' | grep -v "./" | column -c3 -s " " -t | sort -nr | nl |  head -n20
}

# Compiled-language alias

alias mk='make re -j4'
alias mke='make re && '
alias ccm='make clean && rm -rf CMakeCache.txt cmake_install.cmake CMakeFiles Makefile'
alias cmk='cmake ../ && make -j4'

# docker cmake sems
alias dmakec='docker run  -it --rm -v `pwd`:/src:delegated -e "CXX=/usr/bin/clang++" -e "CC=/usr/bin/clang" -e "MAKE_FLAG=-k -j4" '
alias dmakeg='docker run  -it --rm -v `pwd`:/src:delegated -e "MAKE_FLAG=-k -j4" '

# valgrind shortcut
alias sval='valgrind --track-origins=yes --leak-check=full --show-leak-kinds=all'

# package manager alias
alias 'apt-get'='sudo apt-get'

# The fuck alias
# alias fuck-it='export THEFUCK_REQUIRE_CONFIRMATION=False; fuck; export THEFUCK_REQUIRE_CONFIRMATION=True'

# Git alias

alias checkGit='for D in */
do
echo
echo checking $D |lolcat
echo
if [ -d $D/.git ] ; then
cd $D
git status
sleep 1
cd ..
else
echo $D is not a git repo |lolcat
fi
echo
done'

alias checkGitRec="
find . -print0 | while IFS= read -r -d '' f
do
echo $f
if [ -d $f/.git ] ; then
cd $f
pwd | lolcat
git status
sleep 1
cd -
fi
done"

alias add='git add'
alias addP='git add -p'
alias pull='git pull'
alias push='git push'
alias commit='git commit'
alias checkout='git checkout'
alias checkoutB='git checkout -b'
alias pushD='git push origin --delete'

alias log="git log --graph --decorate -30 --all --date-order --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:'%C(cyan)%h%Creset %C(white)%ad%C(yellow) [%an]%Creset%C(auto)%d %s'"
alias llog="git log --graph --decorate --all --date-order --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:'%C(cyan)%h%Creset %C(black bold)%ad%C(yellow) [%an]%Creset%C(auto)%d %s'"

alias branch='git branch'
alias branchA='git branch --all'
alias branchD='git branch -D'

alias fetch='git fetch'
alias fetchO='git fetch origin'
alias fetchA='git fetch --all'

alias stash='git stash'
alias stashD='git stash drop'
alias stashP='git stash pop'
alias stashL='git stash list'
alias stashS='git stash show'
alias stashSU='git stash save -u'

alias rebase='git rebase'
alias rebaseC='rebase --continue'
alias rebaseA='rebase --abort'

alias gstatus='git status'
alias gs='git status'
alias greset='git reset'
alias gresetH='git reset --hard'
alias gdiff='git diff'

alias tag='git tag'
alias tagL='git tag -n1'

# editor

alias pstorm='phpstorm.sh'
alias clion='clion.sh'
alias ne="emacsclient -a ''"
alias sne="sudo emacsclient -a ''"

# docker

alias dc='docker-compose'
alias dcb='docker-compose build'
alias dcu='docker-compose up'
alias dcd='docker-compose down'
alias dcs='docker-compose stop'
alias dce='docker-compose exec'

alias dockerRM='
(docker-compose down ; docker kill `docker ps -aq`) 2> /dev/null ;  echo "Containers stopped" ;
docker rm -v `docker ps -aq` 2> /dev/null ; echo "Containers & their associated volumes deleted" ;
docker volume rm `docker volume ls -f "dangling=true" -q` 2> /dev/null ; echo "Extra volumes deleted" ;
docker rmi -f `docker image ls -aq` 2> /dev/null ; echo "Images deleted" ;
'
alias extraDockerRM='docker system prune --volumes ; echo "Her is something !"'

alias ports=" netstat -lntup"
